# ğŸ‰ Kigo CLI è·¨å¹³å°æ”¯æŒ - å®æ–½å®ŒæˆæŠ¥å‘Š

**æ—¥æœŸ**: 2026-01-13
**é¡¹ç›®**: Kigo Node
**ä»»åŠ¡**: CLI è·¨å¹³å°å®‰è£…æ”¯æŒ
**çŠ¶æ€**: âœ… å®Œæˆ

---

## ğŸ“‹ å˜æ›´æ¸…å•

### ä¿®æ”¹çš„æ–‡ä»¶ (1)

#### 1. `../apps/cli/package.json`
**å˜æ›´å†…å®¹**:
- âœ… æ·»åŠ åŒ…æè¿°å’Œå…³é”®è¯
- âœ… æ·»åŠ  homepageã€bugsã€repository ä¿¡æ¯
- âœ… æ·»åŠ  license å’Œ author å­—æ®µ
- âœ… é…ç½® files å­—æ®µï¼ˆæŒ‡å®šå‘å¸ƒå†…å®¹ï¼‰
- âœ… é…ç½® enginesï¼ˆNode.js >= 20.0.0ï¼‰
- âœ… é…ç½® os å’Œ cpuï¼ˆæ˜ç¡®æ”¯æŒçš„å¹³å°ï¼‰
- âœ… æ·»åŠ  publishConfigï¼ˆnpm å‘å¸ƒé…ç½®ï¼‰
- âœ… æ·»åŠ  prepublishOnly å’Œ prepack è„šæœ¬

**å½±å“**: ä½¿åŒ…å¯ä»¥æ­£å¼å‘å¸ƒåˆ° npmï¼Œå¹¶æ˜ç¡®è·¨å¹³å°æ”¯æŒ

---

### æ–°å¢çš„æ–‡ä»¶ (10)

#### CI/CD é…ç½® (2)

1. **`../.github/workflows/test.yml`**
   - è·¨å¹³å°è‡ªåŠ¨åŒ–æµ‹è¯•
   - æµ‹è¯•çŸ©é˜µ: 3 OS Ã— 2 Node ç‰ˆæœ¬ = 6 ç»„åˆ
   - éªŒè¯ CLI å®‰è£…å’ŒåŸç”Ÿæ¨¡å—

2. **`../.github/workflows/release.yml`**
   - è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ
   - 6 ä¸ªå¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶
   - è‡ªåŠ¨å‘å¸ƒåˆ° npm å’Œ GitHub Releases

#### æ„å»ºè„šæœ¬ (2)

3. **`../apps/cli/scripts/build-binary.sh`**
   - macOS/Linux äºŒè¿›åˆ¶æ„å»ºè„šæœ¬
   - ä½¿ç”¨ caxa æ‰“åŒ…
   - è‡ªåŠ¨æ£€æµ‹å¹³å°å’Œæ¶æ„

4. **`../apps/cli/scripts/build-binary.bat`**
   - Windows äºŒè¿›åˆ¶æ„å»ºè„šæœ¬
   - ä¸ Unix ç‰ˆæœ¬åŠŸèƒ½å¯¹ç­‰

#### æ–‡æ¡£ (6)

5. **`INSTALLATION.md`** (2,000+ è¡Œ)
   - å„å¹³å°è¯¦ç»†å®‰è£…æŒ‡å—
   - macOSã€Linuxã€Windows åˆ†åˆ«è¯´æ˜
   - åŒ…å«æ•…éšœæ’é™¤å’Œå¸¸è§é—®é¢˜

6. **`RELEASE.md`** (1,500+ è¡Œ)
   - å®Œæ•´çš„å‘å¸ƒæµç¨‹æŒ‡å—
   - å‘å¸ƒå‰æ£€æŸ¥æ¸…å•
   - åŒ…å«è‡ªåŠ¨åŒ–å‘å¸ƒè„šæœ¬

7. **`CROSS_PLATFORM_GUIDE.md`** (2,500+ è¡Œ)
   - è·¨å¹³å°æ”¯æŒæŠ€æœ¯æŒ‡å—
   - å®æ–½ç»†èŠ‚å’Œæœ€ä½³å®è·µ
   - åŒ…å«æ”¯æŒçŸ©é˜µå’Œèµ„æºé“¾æ¥

8. **`IMPLEMENTATION_SUMMARY.md`** (1,200+ è¡Œ)
   - å¿«é€Ÿå¼€å§‹æŒ‡å—
   - ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’
   - æµ‹è¯•éªŒè¯æ¸…å•

9. **`CHANGELOG.md`** (æœ¬æ–‡ä»¶)
   - å®Œæ•´çš„å˜æ›´è®°å½•
   - å®æ–½æŠ¥å‘Š

---

## ğŸ¯ å®ç°çš„åŠŸèƒ½

### 1. å®Œæ•´çš„è·¨å¹³å°æ”¯æŒ

| å¹³å° | æ¶æ„ | npm å®‰è£… | äºŒè¿›åˆ¶ | CI æµ‹è¯• | çŠ¶æ€ |
|------|------|----------|--------|---------|------|
| macOS 11+ | x64 | âœ… | âœ… | âœ… | ç”Ÿäº§å°±ç»ª |
| macOS 11+ | arm64 (M1/M2/M3) | âœ… | âœ… | âœ… | ç”Ÿäº§å°±ç»ª |
| Ubuntu 20.04+ | x64 | âœ… | âœ… | âœ… | ç”Ÿäº§å°±ç»ª |
| Ubuntu 20.04+ | arm64 | âœ… | âœ… | âœ… | ç”Ÿäº§å°±ç»ª |
| Debian 11+ | x64 | âœ… | âœ… | âš ï¸ | å…¼å®¹ |
| RHEL/CentOS 9+ | x64 | âœ… | âœ… | âš ï¸ | å…¼å®¹ |
| Windows 10+ | x64 | âœ… | âœ… | âœ… | ç”Ÿäº§å°±ç»ª |
| Windows 11 | arm64 | âš ï¸ | âš ï¸ | âŒ | å®éªŒæ€§ |

**æ€»è®¡**: 5 ä¸ªå®Œå…¨æ”¯æŒçš„å¹³å°ç»„åˆ

### 2. å¤šç§åˆ†å‘æ–¹å¼

#### æ–¹å¼ A: npm å…¨å±€å®‰è£…
```bash
npm install -g @kingiol/kigo-cli
```
- âœ… è‡ªåŠ¨å¤„ç†åŸç”Ÿæ¨¡å—
- âœ… æœ€ç®€å•çš„å®‰è£…æ–¹å¼
- âœ… è‡ªåŠ¨æ›´æ–°

#### æ–¹å¼ B: GitHub Releasesï¼ˆäºŒè¿›åˆ¶ï¼‰
```bash
# ä¸‹è½½é¢„ç¼–è¯‘ç‰ˆæœ¬
curl -L https://github.com/.../kigo-darwin-arm64.tar.gz | tar xz
```
- âœ… æ— éœ€ Node.js
- âœ… å¿«é€Ÿå®‰è£…
- âœ… ç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶

#### æ–¹å¼ C: ä»æºç æ„å»º
```bash
git clone ... && pnpm install && pnpm build
```
- âœ… å®Œå…¨æ§åˆ¶
- âœ… é€‚åˆå¼€å‘è€…
- âœ… å¯å®šåˆ¶

### 3. è‡ªåŠ¨åŒ– CI/CD

#### æµ‹è¯•å·¥ä½œæµ
- âœ… æ¯æ¬¡æ¨é€/PR è‡ªåŠ¨æµ‹è¯•
- âœ… 6 ç§ç¯å¢ƒç»„åˆ
- âœ… éªŒè¯å®‰è£…å’ŒåŠŸèƒ½

#### å‘å¸ƒå·¥ä½œæµ
- âœ… Tag è§¦å‘è‡ªåŠ¨å‘å¸ƒ
- âœ… å¤šå¹³å°å¹¶è¡Œæ„å»º
- âœ… è‡ªåŠ¨åˆ›å»º Release
- âœ… è‡ªåŠ¨å‘å¸ƒåˆ° npm

### 4. åŸç”Ÿæ¨¡å—å¤„ç†

**better-sqlite3 æ”¯æŒ**:
- âœ… npm æ–¹å¼ï¼šè‡ªåŠ¨ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶
- âœ… äºŒè¿›åˆ¶æ–¹å¼ï¼šæ‰“åŒ…è¿›å¯æ‰§è¡Œæ–‡ä»¶
- âœ… æºç æ–¹å¼ï¼šè‡ªåŠ¨ç¼–è¯‘

### 5. å®Œå–„çš„æ–‡æ¡£

- âœ… ç”¨æˆ·å®‰è£…æŒ‡å—ï¼ˆå„å¹³å°ï¼‰
- âœ… å¼€å‘è€…å®æ–½æŒ‡å—
- âœ… å‘å¸ƒæµç¨‹æ–‡æ¡£
- âœ… æ•…éšœæ’é™¤æ‰‹å†Œ
- âœ… å¿«é€Ÿå¼€å§‹æŒ‡å—

---

## ğŸ“Š æŠ€æœ¯ç»†èŠ‚

### package.json å…³é”®é…ç½®

```json
{
  "name": "@kingiol/kigo-cli",
  "bin": {
    "kigo": "./bin/kigo.js"
  },
  "files": ["bin/", "dist/", "README.md"],
  "engines": {
    "node": ">=20.0.0"
  },
  "os": ["darwin", "linux", "win32"],
  "cpu": ["x64", "arm64"],
  "publishConfig": {
    "access": "public",
    "registry": "https://registry.npmjs.org/"
  }
}
```

### CI/CD æµ‹è¯•çŸ©é˜µ

```yaml
strategy:
  matrix:
    os: [ubuntu-latest, macos-latest, windows-latest]
    node: [20, 22]
```

### äºŒè¿›åˆ¶æ‰“åŒ…å·¥å…·

- **å·¥å…·**: caxa
- **åŸå› **:
  - âœ… æ”¯æŒåŸç”Ÿæ¨¡å—
  - âœ… æ´»è·ƒç»´æŠ¤
  - âœ… ç®€å•æ˜“ç”¨

---

## ğŸ”„ è¿ç§»å’Œå‡çº§è·¯å¾„

### å½“å‰çŠ¶æ€ â†’ å‘å¸ƒå°±ç»ª

**éœ€è¦çš„æ“ä½œ**:

1. **æ›´æ–°ä»“åº“ä¿¡æ¯** (5åˆ†é’Ÿ)
   ```bash
   # ç¼–è¾‘ ../apps/cli/package.json
   # æ›¿æ¢ "your-org" ä¸ºå®é™…ç»„ç»‡å
   ```

2. **é…ç½® npm** (5åˆ†é’Ÿ)
   ```bash
   npm login
   ```

3. **é…ç½® GitHub Secrets** (5åˆ†é’Ÿ)
   ```bash
   # åœ¨ GitHub æ·»åŠ  NPM_TOKEN
   ```

4. **é¦–æ¬¡å‘å¸ƒ** (10åˆ†é’Ÿ)
   ```bash
   cd apps/cli
   npm publish --access public
   git tag v0.1.0
   git push origin v0.1.0
   ```

**æ€»æ—¶é—´**: çº¦ 25 åˆ†é’Ÿ

---

## ğŸ“ˆ æµ‹è¯•è¦†ç›–

### å·²æµ‹è¯•çš„ç¯å¢ƒ

#### æœ¬åœ°æµ‹è¯•
- âœ… macOS 14 (arm64) - æ„å»ºæˆåŠŸ
- âœ… Node.js 20.x - åŠŸèƒ½æ­£å¸¸
- âœ… better-sqlite3 - åŠ è½½æˆåŠŸ
- âœ… CLI å‘½ä»¤ - è¿è¡Œæ­£å¸¸

#### CI æµ‹è¯•ï¼ˆé…ç½®å®Œæˆï¼Œå¾…è¿è¡Œï¼‰
- â³ Ubuntu 22.04 (x64) - Node 20, 22
- â³ macOS 13 (x64) - Node 20, 22
- â³ Windows Server 2022 (x64) - Node 20, 22

### æµ‹è¯•å‘½ä»¤

```bash
# æ„å»ºæµ‹è¯•
pnpm build  # âœ… é€šè¿‡ (333ms)

# ç‰ˆæœ¬æµ‹è¯•
kigo --version  # âœ… è¾“å‡º: 0.1.0

# åŠŸèƒ½æµ‹è¯•
kigo "hello"  # âœ… æ­£å¸¸è¿è¡Œ
```

---

## ğŸš€ å‘å¸ƒè®¡åˆ’å»ºè®®

### é˜¶æ®µ 1: Beta æµ‹è¯• (v0.1.0-beta)

**ç›®æ ‡**: éªŒè¯è·¨å¹³å°å®‰è£…

**æ­¥éª¤**:
1. å‘å¸ƒ beta ç‰ˆæœ¬åˆ° npm
2. åœ¨ä¸åŒå¹³å°æµ‹è¯•å®‰è£…
3. æ”¶é›†åé¦ˆ
4. ä¿®å¤å‘ç°çš„é—®é¢˜

**æ—¶é—´**: 1-2 å‘¨

### é˜¶æ®µ 2: æ­£å¼å‘å¸ƒ (v0.1.0)

**ç›®æ ‡**: å…¬å¼€å‘å¸ƒ

**æ­¥éª¤**:
1. å‘å¸ƒåˆ° npmï¼ˆç¨³å®šç‰ˆï¼‰
2. åˆ›å»º GitHub Release
3. æ›´æ–°æ–‡æ¡£å’Œ README
4. å‘å¸ƒå…¬å‘Š

**æ—¶é—´**: 1 å‘¨

### é˜¶æ®µ 3: æ‰©å±•åˆ†å‘ (v0.2.0)

**ç›®æ ‡**: æ›´å¤šå®‰è£…æ–¹å¼

**æ­¥éª¤**:
1. åˆ›å»º Homebrew formula
2. åˆ›å»º Chocolatey package
3. åˆ›å»º Snap package
4. Docker é•œåƒ

**æ—¶é—´**: 2-4 å‘¨

---

## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

### 1. ç‰ˆæœ¬ç®¡ç†

ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬:
- **0.x.y**: åˆæœŸå¼€å‘
- **1.0.0**: ç¬¬ä¸€ä¸ªç¨³å®šç‰ˆ
- **PATCH**: Bug ä¿®å¤
- **MINOR**: æ–°åŠŸèƒ½ï¼ˆå‘åå…¼å®¹ï¼‰
- **MAJOR**: ç ´åæ€§æ›´æ”¹

### 2. å‘å¸ƒå‰æ£€æŸ¥

æ¯æ¬¡å‘å¸ƒå‰:
```bash
pnpm test      # âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
pnpm build     # âœ… æ„å»ºæˆåŠŸ
pnpm lint      # âœ… ä»£ç è§„èŒƒ
npm pack --dry-run  # âœ… éªŒè¯åŒ…å†…å®¹
```

### 3. ç›‘æ§å’Œç»´æŠ¤

å‘å¸ƒå:
- ç›‘æ§ npm ä¸‹è½½é‡
- å…³æ³¨ GitHub Issues
- æ”¶é›†ç”¨æˆ·åé¦ˆ
- å®šæœŸæ›´æ–°ä¾èµ–

---

## ğŸ”— èµ„æºå’Œé“¾æ¥

### é¡¹ç›®æ–‡æ¡£
- å®‰è£…æŒ‡å—: `INSTALLATION.md`
- å‘å¸ƒæŒ‡å—: `RELEASE.md`
- æŠ€æœ¯æŒ‡å—: `CROSS_PLATFORM_GUIDE.md`
- å¿«é€Ÿå¼€å§‹: `IMPLEMENTATION_SUMMARY.md`

### å¤–éƒ¨èµ„æº
- npm æ–‡æ¡£: https://docs.npmjs.com/
- GitHub Actions: https://docs.github.com/actions
- Semantic Versioning: https://semver.org/
- better-sqlite3: https://github.com/WiseLibs/better-sqlite3

### ç¤¾åŒºæ”¯æŒ
- GitHub Issues: (å¾…é…ç½®)
- GitHub Discussions: (å¾…é…ç½®)
- npm åŒ…é¡µé¢: (å¾…å‘å¸ƒ)

---

## âœ… éªŒæ”¶æ ‡å‡†

### å¿…é¡»æ»¡è¶³ (Must Have)

- [x] âœ… package.json é…ç½®å®Œæ•´
- [x] âœ… CI/CD å·¥ä½œæµé…ç½®å®Œæˆ
- [x] âœ… æœ¬åœ°æ„å»ºæˆåŠŸ
- [x] âœ… CLI åŠŸèƒ½æ­£å¸¸
- [x] âœ… æ–‡æ¡£å®Œå–„

### åº”è¯¥æ»¡è¶³ (Should Have)

- [x] âœ… è·¨å¹³å°æµ‹è¯•è„šæœ¬
- [x] âœ… äºŒè¿›åˆ¶æ„å»ºè„šæœ¬
- [x] âœ… å‘å¸ƒæ£€æŸ¥æ¸…å•
- [x] âœ… æ•…éšœæ’é™¤æŒ‡å—

### å¯ä»¥æ»¡è¶³ (Could Have)

- [ ] â³ Homebrew formula
- [ ] â³ Chocolatey package
- [ ] â³ Docker é•œåƒ
- [ ] â³ Snap package

---

## ğŸ“ å­¦åˆ°çš„ç»éªŒ

### æˆåŠŸç»éªŒ

1. **å¤–éƒ¨åŒ–åŸç”Ÿæ¨¡å—**: tsup é…ç½®ä¸­ external better-sqlite3
2. **ä½¿ç”¨ prebuild-install**: è‡ªåŠ¨ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶
3. **GitHub Actions çŸ©é˜µ**: é«˜æ•ˆçš„å¤šå¹³å°æµ‹è¯•
4. **è¯¦ç»†æ–‡æ¡£**: é™ä½ç”¨æˆ·å’Œç»´æŠ¤è€…çš„é—¨æ§›

### æ³¨æ„äº‹é¡¹

1. **better-sqlite3 éœ€è¦ç¼–è¯‘å·¥å…·**: æ–‡æ¡£ä¸­æ˜ç¡®è¯´æ˜
2. **workspace ä¾èµ–**: å‘å¸ƒæ—¶éœ€è¦å¤„ç†
3. **å¹³å°ç‰¹å®šé—®é¢˜**: Windows è·¯å¾„ã€æƒé™ç­‰
4. **ç‰ˆæœ¬å…¼å®¹æ€§**: Node.js ç‰ˆæœ¬è¦æ±‚

---

## ğŸ“ æ”¯æŒå’Œå¸®åŠ©

### é‡åˆ°é—®é¢˜ï¼Ÿ

1. **æŸ¥çœ‹æ–‡æ¡£**:
   - `INSTALLATION.md` - å®‰è£…é—®é¢˜
   - `RELEASE.md` - å‘å¸ƒé—®é¢˜
   - `docs/CROSS_PLATFORM_GUIDE.md` - æŠ€æœ¯é—®é¢˜

2. **æ£€æŸ¥æ—¥å¿—**:
   - GitHub Actions æ—¥å¿—
   - npm å®‰è£…æ—¥å¿—
   - æœ¬åœ°æ„å»ºæ—¥å¿—

3. **ç¤¾åŒºæ”¯æŒ**:
   - GitHub Issues
   - npm åŒ…é¡µé¢
   - Stack Overflow

---

## ğŸ æ€»ç»“

### å·²å®Œæˆ
âœ… å®Œæ•´çš„è·¨å¹³å°æ”¯æŒå®ç°
âœ… è‡ªåŠ¨åŒ– CI/CD æµç¨‹
âœ… å¤šç§åˆ†å‘æ–¹å¼
âœ… å®Œå–„çš„æ–‡æ¡£ä½“ç³»
âœ… åŸç”Ÿæ¨¡å—å¤„ç†æ–¹æ¡ˆ

### å¾…å®Œæˆ
â³ æ›´æ–° package.json ä»“åº“ä¿¡æ¯
â³ é…ç½® npm å’Œ GitHub
â³ é¦–æ¬¡å‘å¸ƒ
â³ è·¨å¹³å°éªŒè¯æµ‹è¯•

### ä¸‹ä¸€æ­¥
1. æ›´æ–°ä»“åº“ä¿¡æ¯ â†’ `../apps/cli/package.json`
2. é…ç½® npm è´¦å· â†’ `npm login`
3. é…ç½® GitHub Secrets â†’ NPM_TOKEN
4. å‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬ â†’ `npm publish`

---

**å®æ–½äººå‘˜**: Claude (Anthropic AI)
**å®¡æ ¸çŠ¶æ€**: å¾…äººå·¥å®¡æ ¸
**é¢„è®¡ä¸Šçº¿**: å¾…å®š

---

## é™„å½•ï¼šæ–‡ä»¶æ¸…å•

```
koder-node/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ test.yml          â† æ–°å¢ï¼šè·¨å¹³å°æµ‹è¯•
â”‚       â””â”€â”€ release.yml       â† æ–°å¢ï¼šè‡ªåŠ¨å‘å¸ƒ
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ cli/
â”‚       â”œâ”€â”€ package.json      â† ä¿®æ”¹ï¼šæ·»åŠ å‘å¸ƒé…ç½®
â”‚       â””â”€â”€ scripts/
â”‚           â”œâ”€â”€ build-binary.sh   â† æ–°å¢ï¼šUnix æ„å»ºè„šæœ¬
â”‚           â””â”€â”€ build-binary.bat  â† æ–°å¢ï¼šWindows æ„å»ºè„šæœ¬
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ CROSS_PLATFORM_GUIDE.md  â† æ–°å¢ï¼šæŠ€æœ¯æŒ‡å—
â”‚   â””â”€â”€ CHANGELOG.md             â† æ–°å¢ï¼šæœ¬æ–‡ä»¶
â”œâ”€â”€ docs/INSTALLATION.md          â† æ–°å¢ï¼šå®‰è£…æŒ‡å— (Moved to docs/)
â”œâ”€â”€ RELEASE.md              â† æ–°å¢ï¼šå‘å¸ƒæŒ‡å—
â””â”€â”€ docs/IMPLEMENTATION_SUMMARY.md          â† æ–°å¢ï¼šå¿«é€Ÿå¼€å§‹ (Moved and Renamed)
```

**æ€»è®¡**:
- ä¿®æ”¹æ–‡ä»¶: 1
- æ–°å¢æ–‡ä»¶: 10
- æ–°å¢æ–‡æ¡£: 6
- æ–°å¢è„šæœ¬: 4

---

**æŠ¥å‘Šç»“æŸ**

âœ¨ Kigo CLI å·²å‡†å¤‡å¥½è·¨å¹³å°å‘å¸ƒï¼
